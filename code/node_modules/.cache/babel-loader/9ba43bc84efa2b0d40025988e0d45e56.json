{"ast":null,"code":"import _classCallCheck from \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/src/components/profilePage/profilePage.js\";\nimport React from \"react\";\nimport Calendar from \"react-calendar\";\nimport ExerciseForm from \"./exerciseForm\";\n\nvar ProfilePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfilePage, _React$Component);\n\n  function ProfilePage(props) {\n    var _this;\n\n    _classCallCheck(this, ProfilePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfilePage).call(this, props));\n\n    _this.onChange = function (date) {\n      var dates = _this.state.dates;\n      var timestamp = date.getTime();\n      var currentScore = _this.state.score;\n      var currentDates = _this.state.dates;\n\n      if (!dates[timestamp]) {\n        dates[timestamp] = {\n          situps: false,\n          burpees: false,\n          jogging: false\n        };\n        localStorage.setItem(\"userScore\", JSON.stringify(currentScore));\n\n        _this.setState({\n          date: date.getTime(),\n          dateIsClicked: true,\n          dates: dates\n        });\n      } else {\n        _this.setState({\n          date: date.getTime(),\n          dateIsClicked: true\n        });\n      }\n\n      localStorage.setItem(\"userDates\", JSON.stringify(currentDates));\n    };\n\n    _this.increaseScore = function (amount) {\n      var currentScore = _this.state.score;\n      localStorage.setItem(\"userScore\", JSON.stringify(currentScore + amount));\n\n      _this.setState({\n        score: _this.state.score + amount\n      });\n\n      _this.setState({\n        show: !_this.state.show\n      });\n    };\n\n    _this.updateActivity = function (activity, date, value) {\n      var currentDates = _this.state.dates;\n      var dates = _this.state.dates;\n      dates[date][activity] = value;\n\n      _this.setState({\n        dates: dates\n      });\n\n      localStorage.setItem(\"userDates\", JSON.stringify(currentDates));\n    };\n\n    _this.handleDateActivity = function (_ref) {\n      var date = _ref.date,\n          view = _ref.view;\n      var timestamp = date.getTime();\n      var active = false;\n      var day = _this.state.dates[timestamp];\n\n      if (day) {\n        active = day.situps || day.burpees || day.jogging;\n      }\n\n      active ? \"saturday\" : null;\n    };\n\n    _this.state = {\n      date: new Date(),\n      score: localStorage.getItem(\"userScore\") ? JSON.parse(localStorage.getItem(\"userScore\")) : 0,\n      dateIsClicked: false,\n      dates: localStorage.getItem(\"userDates\") ? JSON.parse(localStorage.getItem(\"userDates\")) : {} // if (localStorage.getItem(\"userScore\")) {\n      //   this.state = {\n      //     date: new Date(),\n      //     score: JSON.parse(localStorage.getItem(\"userScore\")),\n      //     dateIsClicked: false,\n      //     dates: {}\n      //   }\n      // } else {\n      //   this.state = {\n      //     date: new Date(),\n      //     dateIsClicked: false,\n      //     score: 0,\n      //     dates: {}\n      //   }\n\n    };\n    return _this;\n  }\n\n  _createClass(ProfilePage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"pageContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        style: {\n          background: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, JSON.stringify(this.state, null, 2)), React.createElement(\"div\", {\n        className: \"pageContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"profileHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Your\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), \"profile\"), React.createElement(\"img\", {\n        src: \"./images/user-image.jpeg\",\n        alt: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"profileInfo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" Name: Namn Namnson\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Team name: team\"), React.createElement(\"h2\", {\n        className: \"points\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Points: \", this.state.score)), React.createElement(Calendar, {\n        tileClassName: this.handleDateActivity,\n        onClickDay: function onClickDay(date) {\n          return _this2.onChange(date);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), this.state.dateIsClicked && React.createElement(ExerciseForm, {\n        activityDate: this.state.dates[this.state.date],\n        date: this.state.date,\n        updateActivity: this.updateActivity,\n        onScoreChange: this.increaseScore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProfilePage;\n}(React.Component);\n\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/sara.nordell/Desktop/TECHNIGO/Assignments/GIT/Sprint-4-team-1-Fall18/code/src/components/profilePage/profilePage.js"],"names":["React","Calendar","ExerciseForm","ProfilePage","props","onChange","date","dates","state","timestamp","getTime","currentScore","score","currentDates","situps","burpees","jogging","localStorage","setItem","JSON","stringify","setState","dateIsClicked","increaseScore","amount","show","updateActivity","activity","value","handleDateActivity","view","active","day","Date","getItem","parse","background","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Calendar from \"react-calendar\"\nimport ExerciseForm from \"./exerciseForm\"\n\nclass ProfilePage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      date: new Date(),\n      score: localStorage.getItem(\"userScore\") ? JSON.parse(localStorage.getItem(\"userScore\")) : 0,\n      dateIsClicked: false,\n      dates: localStorage.getItem(\"userDates\") ? JSON.parse(localStorage.getItem(\"userDates\")) : {}\n    // if (localStorage.getItem(\"userScore\")) {\n    //   this.state = {\n    //     date: new Date(),\n    //     score: JSON.parse(localStorage.getItem(\"userScore\")),\n    //     dateIsClicked: false,\n    //     dates: {}\n    //   }\n    // } else {\n    //   this.state = {\n    //     date: new Date(),\n    //     dateIsClicked: false,\n    //     score: 0,\n    //     dates: {}\n    //   }\n    }\n  }\n\n  onChange = date => {\n    const { dates } = this.state\n    const timestamp = date.getTime()\n    const currentScore = this.state.score\n    const currentDates = this.state.dates\n    if (!dates[timestamp]) {\n      dates[timestamp] = { situps: false, burpees: false, jogging: false }\n      localStorage.setItem(\"userScore\", JSON.stringify(currentScore))\n      this.setState({\n        date: date.getTime(),\n        dateIsClicked: true,\n        dates\n      })\n    } else {\n      this.setState({\n        date: date.getTime(),\n        dateIsClicked: true\n      })\n    }\n    localStorage.setItem(\"userDates\", JSON.stringify(currentDates))\n  }\n\n  increaseScore = amount => {\n    const currentScore = this.state.score\n    localStorage.setItem(\"userScore\", JSON.stringify(currentScore + amount))\n    this.setState({ score: this.state.score + amount })\n    this.setState({ show: !this.state.show })\n  }\n\n  updateActivity = (activity, date, value) => {\n    const currentDates = this.state.dates\n    const { dates } = this.state\n    dates[date][activity] = value\n    this.setState({ dates })\n    localStorage.setItem(\"userDates\", JSON.stringify(currentDates))\n  }\n\n  handleDateActivity = ({ date, view }) => {\n    const timestamp = date.getTime()\n    let active = false\n    const day = this.state.dates[timestamp]\n    if (day) {\n      active = (day.situps || day.burpees || day.jogging)\n    }\n\n    ( active ? \"saturday\" : null)\n  }\n\n  render() {\n    return (\n      <div className=\"pageContainer\">\n        <pre style={{ background: \"white\" }} >{JSON.stringify(this.state, null, 2)}</pre>\n        <div className=\"pageContent\">\n          <header className=\"profileHeader\">\n            <h1>\n            Your\n              <br />\n            profile\n            </h1>\n            <img src=\"./images/user-image.jpeg\" alt=\"user\" />\n          </header>\n          <div className=\"profileInfo\">\n            <h2> Name: Namn Namnson</h2>\n            <h2>Team name: team</h2>\n            <h2 className=\"points\">Points: {this.state.score}</h2>\n          </div>\n          <Calendar\n            tileClassName={this.handleDateActivity}\n            onClickDay={date => this.onChange(date)} />\n          {this.state.dateIsClicked &&\n          <ExerciseForm\n            activityDate={this.state.dates[this.state.date]}\n            date={this.state.date}\n            updateActivity={this.updateActivity}\n            onScoreChange={this.increaseScore} />}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default ProfilePage\n"]},"metadata":{},"sourceType":"module"}